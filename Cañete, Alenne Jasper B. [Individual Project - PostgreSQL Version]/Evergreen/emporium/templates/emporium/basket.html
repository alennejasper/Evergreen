{% extends "emporium/core.html" %}
{% load static %}

{% block content %}
<div class = "row">
	<div class = "col-lg-12 mx-auto">
		<div class = "item-case">
            <a class = "btn btn-outline-dark" href = "{% url 'emporium' %}">&#x2190;return to homepage</a>
            
            <table class = "table">
                <tr>
                    <th style = "vertical-align: middle"><h6><strong>amount:</strong> {{purchase.basket_amount}}</h6></th>
                    
                    <th style = "vertical-align: middle"><h6><strong>total:</strong> ₱{{purchase.basket_total | floatformat:2}}</h6></th>
                    
                    <th style = "vertical-align: middle"><a  style = "float: right" class = "btn btn-success" href = "{% url 'purchase' %}">purchase</a></th>
                </tr>
            </table>
		</div>
        
        <br>    
		<div class = "item-case">
            <hr> 
            <div class = "basket-row">
                <div style = "flex: 4"></div>
                
                <div style = "flex: 2"><strong>item</strong></div>

                <div style = "flex: 2"><strong>price</strong></div>

                <div style = "flex: 2"><strong>amount</strong></div>

                <div style = "flex: 2"><strong>total</strong></div>
            </div>
            <hr>

            {% for item in items %}
            <div class = "basket-row">
                <div style = "flex: 4"><img class = "row-image" src = "{{item.item.image_url}}"></div>
                
                <div style = "flex: 2">{{item.item.item_name}}</div>

                <div style = "flex: 2">₱{{item.item.item_price | floatformat:2}}</div>

                <div style = "flex: 2">
                    <div class = "amount">
                        <img data-item = "{{item.item.id}}" data-action = "append" class = "amount-alter update-basket" src = "{% static  'images/upward.png' %}">
                    </div>

                    <p class = "amount">{{item.purchase_amount}}</p>
                    
                    <div class = "amount">
                        <img data-item = "{{item.item.id}}" data-action = "banish" class = "amount-alter update-basket" src = "{% static  'images/downward.png' %}">
                    </div>
                </div>

                <div style = "flex: 2">₱{{item.total | floatformat:2}}</div>
            </div>
            {% endfor %}
            
            <hr>
		</div>
	</div>
</div>
{% endblock content %}